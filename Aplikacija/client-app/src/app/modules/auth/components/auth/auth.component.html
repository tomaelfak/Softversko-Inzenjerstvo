<mat-grid-list cols="1" rowHeight="100%" >
  <mat-grid-tile >
    <mat-spinner *ngIf="isLoading"></mat-spinner>
    <form class="form-group" #authForm="ngForm" (ngSubmit)="onSubmit(authForm)" *ngIf="!isLoading">
      <div *ngIf="error" style="text-align: center">
        <p class="error-message">{{error}}</p>

      </div>
      <div id="login" ngModelGroup="login" #login="ngModelGroup" *ngIf="isSignInMode">
        <mat-form-field class="margin-10">
          <mat-label>Email</mat-label>
          <input matInput
                 ngModel
                 #email="ngModel"
                 type="email"
                 name="email"
                 required
                 email>
          <mat-error *ngIf="email.invalid && email.touched">Invalid email format</mat-error>
        </mat-form-field>

        <mat-form-field class="margin-10">
          <mat-label>Password</mat-label>
          <input matInput
                 ngModel
                 #password="ngModel"
                 type="password"
                 name="password"
                 minlength="8"
                 required>
          <mat-error *ngIf="password.invalid && password.touched">Password must be at least 8 characters</mat-error>
        </mat-form-field>
        <div class="button-group">
          <button mat-flat-button 
          color="primary"
          class="button"
          [disabled]="login.invalid"
          type="submit">Sign in</button>
          <button mat-raised-button color="accent" class="button light-green" (click)="onSwitchMode()">Register</button>
  
        </div>
        
      </div>

      <div id="register" ngModelGroup="register" #register="ngModelGroup" *ngIf="!isSignInMode">
        <mat-form-field class="margin-10">
          <mat-label>First Name</mat-label>
          <input matInput
                 ngModel
                 #firstName="ngModel"
                 type="input"
                 name="firstName"
                 required>
          <mat-error *ngIf="firstName.invalid && firstName.touched">You must enter a name</mat-error>
        </mat-form-field>

        <mat-form-field class="margin-10">
          <mat-label>Last Name</mat-label>
          <input matInput
                 ngModel
                 #lastName="ngModel"
                 type="input"
                 name="lastName"
                 required>
          <mat-error *ngIf="lastName.invalid && lastName.touched">You must enter a last name</mat-error>
        </mat-form-field>

        <mat-form-field class="margin-10">
          <mat-label>Email</mat-label>
          <input matInput
                 ngModel
                 #email="ngModel"
                 type="email"
                 name="email"
                 required
                 email>
          <mat-error *ngIf="email.invalid && email.touched">Invalid email format</mat-error>
        </mat-form-field>

        <mat-form-field class="margin-10">
          <mat-label>Username</mat-label>
          <input matInput
                 ngModel
                 #username="ngModel"
                 type="input"
                 name="username"
                 required>
          <mat-error *ngIf="username.invalid && username.touched">You must enter a nickname</mat-error>
        </mat-form-field>

        <mat-form-field class="margin-10">
          <mat-label>Password</mat-label>
          <input matInput
                 ngModel
                 #password="ngModel"
                 type="password"
                 name="password"
                 minlength="8"
                 required>
          <mat-error *ngIf="password.invalid && password.touched">Password must be at least 8 characters</mat-error>
        </mat-form-field>

        <mat-form-field class="margin-10">
          <mat-label>Repeat password</mat-label>
          <input matInput
                 ngModel
                 #repeatPassword="ngModel"
                 type="password"
                 name="repeatPassword"
                 minlength="8"
                 required>
          <mat-error *ngIf="repeatPassword.invalid && repeatPassword.touched">Password must be at least 8 characters</mat-error>
        </mat-form-field>
        <mat-error *ngIf="!passwordMatches">Passwords doesn't match</mat-error>

        <mat-form-field class="margin-10">
          <mat-label>Address</mat-label>
          <input matInput
                 ngModel
                 #address="ngModel"
                 type="input"
                 name="address"
                 required>
          <mat-error *ngIf="address.invalid && address.touched">You must enter an address</mat-error>
        </mat-form-field>


        <div class="button-group">
          <button mat-flat-button
          color="primary"
          type="submit"
          [disabled]="register.invalid"
          class="button">Register</button>
          <button mat-raised-button color="accent" class="button light-green" (click)="onSwitchMode()">Sign in</button>
  
        </div>
        
      </div>



    </form>
  </mat-grid-tile>
</mat-grid-list>


